<!doctype html>
<head>
























<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
  
  
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.css" integrity="sha384-NFGicHNcq1l2DafLerXQeI3h3jJY3dCcDQF+29rtRBHW7P7ti+/XIRY7ALbJOaeh" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.js" integrity="sha384-HELAAZU8xvHgfT/8z4Mhmu+E2z3oBrMEuywaMh/CEd5uTZIDSct7TEaX+S43+dOi" crossorigin="anonymous"></script>

 <script>
    document.addEventListener("DOMContentLoaded", function(){
    var tex = document.querySelectorAll('script[type^="math/tex"]');

	for(var i = 0; i < tex.length; ++i)
	    {
		var display = tex[i].getAttribute('type').indexOf('mode=display') > -1;
		
		var math = tex[i].previousSibling;
		math.className = 'katex-render';
		
		var content = tex[i].textContent;
		
		katex.render(content, math, {
		    /* output: html, */
		    displayMode: display,
		    throwOnError: false,
		    trust: true
		});
		
		tex[i].parentNode.removeChild(tex[i]);
		
	    }
    });
  </script>


<script src="js/sidebar.js"></script>



<script defer src="js/search.js"></script>


<script async defer src="https://hypothes.is/embed.js"></script>


<script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>

<script>
  window.MathJax = 1 /* Disable MathJax */
  sagecell.makeSagecell({
  inputLocation: ".sage",
  evalButtonText: "Compute",
  linked: true,
  languages : ["sage", "python", "macaulay2", "r"],
  hide : ["permalink"]
  });
  sagecell.makeSagecell({
  inputLocation: ".sageM2",
  evalButtonText: "Compute",
  linked: true,
  languages : ["macaulay2", "sage", "python", "r"],
  hide : ["permalink"]
  });
  sagecell.makeSagecell({
  inputLocation: ".sagepython",
  evalButtonText: "Compute",
  linked: true,
  languages : ["python", "sage", "macaulay2", "r"],
  hide : ["permalink"]
  });
  sagecell.makeSagecell({
  inputLocation: ".sageR",
  evalButtonText: "Compute",
  linked: true,
  languages : ["r", "python", "sage", "macaulay2"],
  hide : ["permalink"]
  });
</script>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script src="js/openclosebuttons.js"></script>




<link rel="stylesheet" type="text/css" href="css/iLaTeXen.css">

<script defer src="js/quiz.js"></script>

<script defer src="js/orderquiz.js"></script>
 

<script defer src="js/bubble.js"></script>
















</head>
<body><div class="sidenav normalwidth"><button style="border:none; background-color: Transparent;" onclick="showhidemenu()" title="Toggle toc"><span style="font-size: 30px;">&#9776;</span></button><button class="openbs" title="Open buttons">+</button><button class="closebs" title="Close buttons">-</button><ul class="leftmenu" style="display: none;"><li><a class="kap" href="intro.html#8b09fd68-7592-4929-9142-5946591ad50b"><b>1</b> A partly topological introduction</a></li><a href="#kap1" data-toggle="collapse"><span class="downtick">&#10095</span></a><ul id="kap1" class="collapse"><li><a href="intro.html#599097e5-e004-4a4d-a90b-00bfcdeeb24a">1.1 A few words about rational functions</a></li><li><a href="intro.html#75697ae5-87a7-491f-afb4-b1e6b808b317">1.2 Topology</a></li><li><a href="intro.html#b87ef2b0-7632-4e7d-b598-2d04ba23fb94">1.3 Compactification</a></li><li><a href="intro.html#3637c7c1-0103-4636-bec7-5c49ca5c7204">1.4 Projective spaces</a></li></ul><li><a class="kap" href="algebra.html#82c2a6e9-4760-4b82-8c26-1e0eca0715b9"><b>2</b> Algebra and geometry</a></li><a href="#kap2" data-toggle="collapse"><span class="downtick">&#10095</span></a><ul id="kap2" class="collapse"><li><a href="algebra.html#44821ab0-9b5a-48b4-8725-a894b892b0ba">2.1 Algebraic sets</a></li><li><a href="algebra.html#4c52ba4a-8efd-4bfd-a837-9316ec399ea4">2.2 Irreducible components</a></li><li><a href="algebra.html#ebe242c9-f749-4cec-8d54-c831483add77">2.3 Primary decomposition</a></li><li><a href="algebra.html#5c9d8b64-a28e-4f50-91ea-28f41ef848d6">2.4 Computation</a></li><li><a href="algebra.html#eca6ff0b-2f3b-4265-9c51-65ee95879a6b">2.5 The Hilbert Nullstellensatz</a></li><li><a href="algebra.html#670547b0-892c-4d0c-baed-9196427bec3c">2.6 The combinatorial Nullstellensatz</a></li></ul><li><a class="kap" href="algcurves.html#2132b7af-13e9-4210-908e-b4709145cd5c"><b>3</b> Affine algebraic curves</a></li><a href="#kap3" data-toggle="collapse"><span class="downtick">&#10095</span></a><ul id="kap3" class="collapse"><li><a href="algcurves.html#8bb95409-5df7-46c5-8d2c-d26466079245">3.1 Intersection of two plane curves</a></li><li><a href="algcurves.html#8d8ed157-e95b-4608-b444-e85ffca305c3">3.2 Rational functions and local rings</a></li><li><a href="algcurves.html#bb4e2b58-aeaa-4051-b80a-a8789524adf2">3.3 Dimension in local rings</a></li><li><a href="algcurves.html#5b3ec541-4aa1-417c-98c5-baba4fe655d3">3.4 The crucial isomorphism</a></li></ul><li><a class="kap" href="projplanecurves.html#11691bf3-d172-437c-936e-a33dc0b61d08"><b>4</b> Projective plane curves</a></li><a href="#kap4" data-toggle="collapse"><span class="downtick">&#10095</span></a><ul id="kap4" class="collapse"><li><a href="projplanecurves.html#dc183dc9-6c3e-4cd8-982e-aaa76bc05972">4.1 Rational functions on the projective plane</a></li><li><a href="projplanecurves.html#069149b0-35c2-4109-9bd4-a2a29345dd6b">4.2 Homogeneous polynomials with no common factors</a></li><li><a href="projplanecurves.html#a7dc4d86-7ba4-4a13-aa12-79d11339c20d">4.3 Projective transformations</a></li><li><a href="projplanecurves.html#c0b17dc6-b831-43ba-8929-c02e56319a27">4.4 Invariance under projective transformations</a></li><li><a href="projplanecurves.html#28b42c6a-7eec-4954-bf4c-5e9b7e1e78de">4.5 Statement and proof of Bezout</a></li><li><a href="projplanecurves.html#885e281e-3e3e-4820-a227-2b8c5f576f40">4.6 Some more local algebra and local geometry</a></li><li><a href="projplanecurves.html#3e3ca3ec-96a3-409f-b460-f0575f9c39c1">4.7 Max Noether's theorem</a></li><li><a href="projplanecurves.html#f559fc2a-4481-440d-8658-8bb59132cea8">4.8 Elliptic curves</a></li><li><a href="projplanecurves.html#27783018-2384-47e2-a61d-c5331b9312b3">4.9 Fun and surprising facts</a></li></ul><li><a class="kap" href="appendixA.html#e7f7511c-a042-485b-9cb2-33902e521cae"><b>A</b> Basic algebra</a></li><a href="#kapA" data-toggle="collapse"><span class="downtick">&#10095</span></a><ul id="kapA" class="collapse"><li><a href="appendixA.html#4aaf0af7-cfc7-4e2c-9752-4971ef4a362e">A.1 Commutative rings</a></li><li><a href="appendixA.html#4d03a8ba-08af-4072-a08b-30c8bcc29028">A.2 Local rings</a></li></ul><li><a class="kap" href="references.html#a900eada-dca2-4106-b628-68d4975cbcf3"><b>R</b> References</a></li><a href="#kapR" data-toggle="collapse"><span class="downtick">&#10095</span></a><ul id="kapR" class="collapse"></ul></ul></div><div class="main normalmargin"><div style="margin-top:20px"></div><div style="margin-top:20px"></div><h1 id="11691bf3-d172-437c-936e-a33dc0b61d08">4<span style="float:right;">Projective plane curves</span></h1><div style="margin-top:20px"></div>We now move into projective territory, where we handle lines as points i.e.,
points will now be lines through zero in <span class="math"></span><script type="math/tex">K^3</script>. Such points are
elements of the projective plane <span class="math"></span><script type="math/tex">\mathbb{P}^2(K)</script> over the field <span class="math"></span><script type="math/tex">K</script>. In more
precise terms
<div class="math"></div><script type="math/tex; mode=display">
\mathbb{P}^2(K) = \{[x, y, z] \mid (x, y, z)\in K^3\setminus\{0\}\}, 
</script>
where <span class="math"></span><script type="math/tex">[x, y, z] = [\lambda x, \lambda y, \lambda z]</script> for
<span class="math"></span><script type="math/tex">\lambda\in K\setminus\{0\}</script>.<div style="margin-top:20px"></div>We aim for Bezout's theorem, which is a small miracle. Think about it.
We have two equations <span class="math"></span><script type="math/tex">f, g\in K[x, y]</script> with no common solutions i.e.,
<span class="math"></span><script type="math/tex">V(f, g) = \emptyset</script>. Then we homogenize them and suddenly
<span class="math"></span><script type="math/tex">V(f^*, g^*) \neq \emptyset</script> in <span class="math"></span><script type="math/tex">\mathbb{P}^2</script>. Try to prove this
from scratch!<div style="margin-top:20px"></div><span id="sec4.1"></span><h2 id="dc183dc9-6c3e-4cd8-982e-aaa76bc05972">4.1 Rational functions on the projective plane</h2><div style="margin-top:20px"></div>It does not really make sense to view polynomials <span class="math"></span><script type="math/tex">K[x, y, z]</script> as
functions on <span class="math"></span><script type="math/tex">\mathbb{P}^2(K)</script>. Not even homogeneous polynomials define
functions in this setting. We can however study a very particular
subfield
<div class="math"></div><script type="math/tex; mode=display">
K(\mathbb{P}^2) \subset K(x, y, z)
</script>
given by
<div class="math"></div><script type="math/tex; mode=display">
\mathbb{K}(\mathbb{P}^2) = \left\{\frac{A}{B}\, \middle|\, A, B \text{ homogeneous and } \deg(A) = \deg(B)\right\}.
</script>
If <span class="math"></span><script type="math/tex">A/B\in \mathbb{K}(\mathbb{P}^2)</script> and <span class="math"></span><script type="math/tex">B(P) \neq 0</script>, then <span class="math"></span><script type="math/tex">A(P)/B(P)</script> is
independent of the representative used for <span class="math"></span><script type="math/tex">P\in \mathbb{P}^2(K)</script>. So, it
actually makes sense to consider rational functions on <span class="math"></span><script type="math/tex">\mathbb{P}^2</script>.<div style="margin-top:20px"></div>For <span class="math"></span><script type="math/tex">P\in \mathbb{P}^2</script>  may also define a local subring
<div class="math"></div><script type="math/tex; mode=display">
\mathcal{O}_P = \left\{r\in K(\mathbb{P}^2) \middle| r \text{ is  defined at } P\right\}
\subset K(\mathbb{P}^2).
</script><div style="margin-top:20px"></div><span id="env4.1"></span><div class="exercise" data-count="4.1">     
  The map <span class="math"></span><script type="math/tex">\varphi: K(\mathbb{P}^2) \rightarrow K(x, y)</script> given by
  <div class="math"></div><script type="math/tex; mode=display">
  \varphi\left(\frac{A}{B}\right) =  \frac{A_*}{B_*}
  </script>
  is an isomorphism of fields. If <span class="math"></span><script type="math/tex">P = [a, b, 1]</script>, then
  <div class="math"></div><script type="math/tex; mode=display">
  \varphi(\mathcal{O}_P) = R_{(a, b)},
  </script>
  where <span class="math"></span><script type="math/tex">R = K[x, y]</script>.
</div><div style="margin-top:20px"></div><span id="env4.2"></span><div class="definition" data-count="4.2">     
  Leg <span class="math"></span><script type="math/tex">F, G\in K[x, y, z]</script> be homogeneous polynomials. For
  <span class="math"></span><script type="math/tex">(F, G)\subset K[x, y, z]</script>, we define the ideal
  <span class="math"></span><script type="math/tex">(F, G) \mathcal{O}_P \subset \mathcal{O}_P</script> by
  <div class="math"></div><script type="math/tex; mode=display">
  (F, G) \mathcal{O}_P = \left\{\frac{H_1 F + H_2 G}{B} \middle| \deg(H_1 F) = \deg(H_2 G) = \deg(B), H_1, H_2, B \text{ homogeneous polynomials in } K[x, y, z], B(P)\neq 0\right\}.
</script>
</div><div style="margin-top:20px"></div><span id="env4.3"></span><div class="exercise" data-count="4.3">     
  If <span class="math"></span><script type="math/tex">P = [a, b, 1]</script>, then for <span class="math"></span><script type="math/tex">\varphi</script> defined in Exercise <a href=#env4.1 class="labelref">4.1</a>,
  <div class="math"></div><script type="math/tex; mode=display">
  \varphi((F, G) \mathcal{O}_P) = (F_*, G_*) R_{(a, b)},
  </script>
  where <span class="math"></span><script type="math/tex">R = K[x, y]</script>.
</div><div style="margin-top:20px"></div><span id="sec4.2"></span><h2 id="069149b0-35c2-4109-9bd4-a2a29345dd6b">4.2 Homogeneous polynomials with no common factors</h2><div style="margin-top:20px"></div><span id="env4.4"></span><div class="lemma" data-count="4.4">     
  Let <span class="math"></span><script type="math/tex">F, G\in K[x, y, z]</script> be homogeneous polynomials with no common factors.
  Then <span class="math"></span><script type="math/tex">V(F) \cap V(G) \subset \mathbb{P}^2</script> is finite.
</div>
<div class="proof">
  Recall the definition
  <div class="math"></div><script type="math/tex; mode=display">
  \mathbb{P}_z^2 = \{[a, b, c] \mid c \neq 0\}
  </script>
  and similarly for <span class="math"></span><script type="math/tex">x</script> and <span class="math"></span><script type="math/tex">y</script>. It suffices to prove that
  <span class="math"></span><script type="math/tex">V(F) \cap V(G) \cap \mathbb{P}^2_z</script> is finite and similarly for <span class="math"></span><script type="math/tex">x</script> and <span class="math"></span><script type="math/tex">y</script>.
  But
  <div class="math"></div><script type="math/tex; mode=display">
  V(F, G) \cap \mathbb{P}^2_z = V(F_*, G_*) \subset K^2
  </script>
  and <span class="math"></span><script type="math/tex">F_*</script> and <span class="math"></span><script type="math/tex">G_*</script> have no common factors, since <span class="math"></span><script type="math/tex">F</script> and <span class="math"></span><script type="math/tex">G</script> had no
  common factors.
</div><div style="margin-top:20px"></div><span id="sec4.3"></span><h2 id="a7dc4d86-7ba4-4a13-aa12-79d11339c20d">4.3 Projective transformations</h2><div style="margin-top:20px"></div>An invertible matrix <span class="math"></span><script type="math/tex">T\in \operatorname{GL}_3(K)</script> gives rise to a bijection
<span class="math"></span><script type="math/tex">\mathbb{P}^2 \rightarrow \mathbb{P}^2</script>. Also, <span class="math"></span><script type="math/tex">T</script> induces an algebra isomorphism
<div class="math"></div><script type="math/tex; mode=display">
T^*: K[x, y, z] \rightarrow K[x, y, z]
</script>
given by <span class="math"></span><script type="math/tex">T^*(f) = f\circ T^{-1}</script>. In more brutal terms, if
<div class="math"></div><script type="math/tex; mode=display">
T^{-1} =
\begin{pmatrix}
  a_{11} & a_{12} & a_{13}\\
  a_{21} & a_{22} & a_{23}\\
  a_{31} & a_{32} & a_{33}
  \end{pmatrix},
</script>
then
<div class="math"></div><script type="math/tex; mode=display">\begin{aligned}
  T^*(x) &= a_{11} x + a_{12} y + a_{13} z\\
  T^*(y) &= a_{21} x + a_{22} y + a_{23} z\\
  T^*(z) &= a_{31} x + a_{32} y + a_{33} z
\end{aligned}</script><div style="margin-top:20px"></div>If <span class="math"></span><script type="math/tex">F</script> is a homogeneous polynomial, then <span class="math"></span><script type="math/tex">T^*(F)</script> is also
a homogeneous polynomial and
<div class="math"></div><script type="math/tex; mode=display">
T(V(F)) = V(T^*(F)) = V(F\circ T^{-1}).
</script><div style="margin-top:20px"></div><span id="env4.5"></span><div class="example" data-count="4.5">     
  Consider <span class="math"></span><script type="math/tex">F = y</script> and <span class="math"></span><script type="math/tex">G = x y - z^2</script>. These two projective curves
  intersect at <span class="math"></span><script type="math/tex">[1, 0, 0]</script> i.e., they intersect at <span class="math"></span><script type="math/tex">\infty</script>, but their
  affine cousins <span class="math"></span><script type="math/tex">f = y</script> and <span class="math"></span><script type="math/tex">x y - 1</script> do not intersect. We can move
  <span class="math"></span><script type="math/tex">[1, 0, 0]</script> to the "finite" affine plane, by using the projective
  transformation <span class="math"></span><script type="math/tex">T</script> given by
  <div class="math"></div><script type="math/tex; mode=display">\begin{aligned}
    T([1, 0, 0]) &= [0, 0, 1]\\
    T([0, 1, 0]) &= [0, 1, 0]\\
    T([0, 0, 1]) &= [1, 0, 0].
  \end{aligned}</script>
  Then
  <div class="math"></div><script type="math/tex; mode=display">\begin{aligned}
    T^*(x) &= z\\
    T^*(y) &= y\\
    T^*(z) &= x
  \end{aligned}</script>
  and
  <div class="math"></div><script type="math/tex; mode=display">
  T(V(F, G)) = V(y, y z - x^2).
  </script>
  You see that <span class="math"></span><script type="math/tex">V(F, G)</script> is transformed into a set of points
  with no points at <span class="math"></span><script type="math/tex">\infty</script> (having <span class="math"></span><script type="math/tex">z = 0</script>).
</div><div style="margin-top:20px"></div><span id="sec4.4"></span><h2 id="c0b17dc6-b831-43ba-8929-c02e56319a27">4.4 Invariance under projective transformations</h2><div style="margin-top:20px"></div><span id="env4.6"></span><div class="lemma" data-count="4.6">     
  A projective transformation <span class="math"></span><script type="math/tex">T</script> gives an isomorphism
  <span class="math"></span><script type="math/tex">T^*: K(\mathbb{P}^2) \rightarrow K(\mathbb{P}^2)</script>, such that <span class="math"></span><script type="math/tex">\mathcal{O}_P</script>
  maps isomorphically to <span class="math"></span><script type="math/tex">\mathcal{O}_{T(P)}</script> and <span class="math"></span><script type="math/tex">(F, G)\mathcal{O}_P</script>
  maps isomorphically to <span class="math"></span><script type="math/tex">(F\circ T^{-1}, G\circ T^{-1}) \mathcal{O}_{T(P)}</script>.
</div><div style="margin-top:20px"></div><span id="env4.7"></span><div class="corollary" data-count="4.7">     
  <div class="math"></div><script type="math/tex; mode=display">
  \dim_K \mathcal{O}_P/ (F, G) \mathcal{O}_P = \dim_K \mathcal{O}_{T(P)}/(F\circ T^{-1}, G\circ T^{-1}) \mathcal{O}_{T(P)}.
  </script>
</div><div style="margin-top:20px"></div><span id="sec4.5"></span><h2 id="28b42c6a-7eec-4954-bf4c-5e9b7e1e78de">4.5 Statement and proof of Bezout</h2><div style="margin-top:20px"></div>We begin this section with a crucial exercise.<div style="margin-top:20px"></div><span id="env4.8"></span><div class="exercise" data-count="4.8">     
  Let <span class="math"></span><script type="math/tex">V</script> be a vector space over an infinite field <span class="math"></span><script type="math/tex">K</script>. Show that <span class="math"></span><script type="math/tex">V</script>
  is not the union of finitely many proper subspaces.<div style="margin-top:20px"></div><a href="#9cd53c56-e699-48c8-8bc7-5df182ce98ee" class ="btn btn-default Hintbutton"data-toggle="collapse"></a> <div id=9cd53c56-e699-48c8-8bc7-5df182ce98ee class = "collapse Hint envbuttons">    
    Suppose that <span class="math"></span><script type="math/tex">V_1, \dots, V_m \subsetneq V</script> are proper subspaces, such that
    <div class="math"></div><script type="math/tex; mode=display">
    V = V_1 \cup V_2 \cup \cdots \cup V_m.
    </script><div style="margin-top:20px"></div><a href="#2c55c773-302e-4d1f-89c9-6f7e2ca04936" class ="btn btn-default Hintbutton"data-toggle="collapse"></a> <div id=2c55c773-302e-4d1f-89c9-6f7e2ca04936 class = "collapse Hint envbuttons">    
      Assume that <span class="math"></span><script type="math/tex">V_1\setminus (V_2\cup \cdots \cup V_m) \neq \emptyset</script> and
      <span class="math"></span><script type="math/tex">(V_2\cup\cdots\cup V_m)\setminus V_1 \neq \emptyset</script>.<div style="margin-top:20px"></div><a href="#7c638a21-02a7-4a48-954e-b8562fd8abfd" class ="btn btn-default Hintbutton"data-toggle="collapse"></a> <div id=7c638a21-02a7-4a48-954e-b8562fd8abfd class = "collapse Hint envbuttons">        
        Pick <span class="math"></span><script type="math/tex">x\in V_1\setminus (V_2\cup \cdots \cup V_m)</script> and
        <span class="math"></span><script type="math/tex">y \in (V_2\cup\cdots\cup V_m)\setminus V_1</script>.<div style="margin-top:20px"></div><a href="#c034d474-21b8-4dda-9db5-9ebbf7c23056" class ="btn btn-default Hintbutton"data-toggle="collapse"></a> <div id=c034d474-21b8-4dda-9db5-9ebbf7c23056 class = "collapse Hint envbuttons">    
          Consider the infinite set
          <div class="math"></div><script type="math/tex; mode=display">
          S = \{\lambda x + y \mid \lambda \in K\}.
          </script>
          </div>
        </div>
      </div>
    </div>
</div><div style="margin-top:20px"></div><span id="env4.9"></span><div class="theorem" data-count="4.9">     
  Let <span class="math"></span><script type="math/tex">F, G\in K[x, y, z]</script> be homogeneous polynomials with no common components.
  Then
  <div class="math"></div><script type="math/tex; mode=display">
  \deg(F) \deg(G) = \sum_{P\in V(F) \cap  V(G)} \dim_K \mathcal{O}_P/(F, G) \mathcal{O}_P.
  </script>
</div>
<div class="proof">
  Suppose that
  <div class="math"></div><script type="math/tex; mode=display">
  V(F) \cap V(G) = \{P_1, \dots, P_r\}
  </script>
  with    
  <div class="math"></div><script type="math/tex; mode=display">\begin{aligned}
    P_1 &= [x_1, y_1, z_1]\\
        &\vdots\\
    P_r &= [x_r, y_r, z_r]
  \end{aligned}</script>
  A line in <span class="math"></span><script type="math/tex">\mathbb{P}^2</script> is a subset <span class="math"></span><script type="math/tex">L\subset \mathbb{P}^2</script> of the form
  <div class="math"></div><script type="math/tex; mode=display">
  L = V( a x + b y + c z )
  </script>
  with at least one of <span class="math"></span><script type="math/tex">a, b, c</script> is non-zero. 
  Why does there exist a line <span class="math"></span><script type="math/tex">L</script>, such that
  <div class="math"></div><script type="math/tex; mode=display">
  P1, \dots, P_r \not\in L?
  </script><div style="margin-top:20px"></div>Try too see if you can link the (positive) answer to this question to
  Exercise <a href=#env4.8 class="labelref">4.8</a>.<div style="margin-top:20px"></div>We assume the existence of such a line. Given <span class="math"></span><script type="math/tex">L</script>, we may find a projective
  transformation <span class="math"></span><script type="math/tex">T</script>, such that
  <div class="math"></div><script type="math/tex; mode=display">
  T(L) = V(z).
  </script>
  It follows that <span class="math"></span><script type="math/tex">F' = F\circ T^{-1}</script> and <span class="math"></span><script type="math/tex">G' = G\circ T^{-1}</script> have
  no common points at the line at infinity <span class="math"></span><script type="math/tex">V(z)</script>. Therefore we may assume that 
  <span class="math"></span><script type="math/tex">V(F, G, z) = \emptyset</script>. Since <span class="math"></span><script type="math/tex">F</script> and <span class="math"></span><script type="math/tex">G</script> have no common divisors,
  this implies (why?) that <span class="math"></span><script type="math/tex">z</script> does not divide <span class="math"></span><script type="math/tex">F</script> and <span class="math"></span><script type="math/tex">z</script> does not divide <span class="math"></span><script type="math/tex">G</script>.<div style="margin-top:20px"></div>But then <span class="math"></span><script type="math/tex">F_*</script> and <span class="math"></span><script type="math/tex">G_*</script>
  will have to have relatively prime highest degree components and
  therefore Proposition <a href="algcurves.html#env3.10">3.10</a> applies to give the result (notice that
  <span class="math"></span><script type="math/tex">\deg(F_*) = \deg(F)</script> and <span class="math"></span><script type="math/tex">\deg(G_*) = \deg(G)</script>).
</div><div style="margin-top:20px"></div><span id="sec4.6"></span><h2 id="885e281e-3e3e-4820-a227-2b8c5f576f40">4.6 Some more local algebra and local geometry</h2><div style="margin-top:20px"></div><span id="env4.10"></span><div class="definition" data-count="4.10">     
  A discrete valuation ring (DVR) is a noetherian local domain <span class="math"></span><script type="math/tex">(R, \mathfrak{m})</script> (not a field!),<div style="margin-top:20px"></div>where the maximal ideal <span class="math"></span><script type="math/tex">\mathfrak{m}</script> is principal.
  A generator of <span class="math"></span><script type="math/tex">\mathfrak{m}</script> is called a
  <em>uniformizing parameter</em>.
</div><div style="margin-top:20px"></div>
<span id="env4.11"></span><div class="exercise" data-count="4.11">     
  If <span class="math"></span><script type="math/tex">R</script> is a DVR with uniformizing parameter <span class="math"></span><script type="math/tex">\pi\in R</script>, then
  for every <span class="math"></span><script type="math/tex">r\in R</script>, there exists a unique <span class="math"></span><script type="math/tex">n\in \mathbb{N}</script>, such that
  <div class="math"></div><script type="math/tex; mode=display">
  r = u \pi^n,
  </script>
  where <span class="math"></span><script type="math/tex">u</script> is a unit in <span class="math"></span><script type="math/tex">R</script>. The function <span class="math"></span><script type="math/tex">\nu: R\setminus\{0\}\rightarrow \mathbb{N}</script> given by
  <span class="math"></span><script type="math/tex">\nu(r) = n</script> is called
  a valuation (<span class="math"></span><script type="math/tex">\pi</script>-adic) and is independent of the choice of generator for
  the maximal ideal. It has the following properties<div style="margin-top:20px"></div><ol class="number"><li id="ite4.1">
    <span class="math"></span><script type="math/tex">\nu(r s) = \nu(r) + \nu(s)</script>.
    </li><li id="ite4.2">
    <span class="math"></span><script type="math/tex">\nu(r + s) \geq \min(\nu(r), \nu(s))</script>.
  </li></ol><div style="margin-top:20px"></div></div><div style="margin-top:20px"></div><span id="env4.12"></span><div class="example" data-count="4.12">     
  Let <span class="math"></span><script type="math/tex">K</script> be a field. Then the local ring
  <div class="math"></div><script type="math/tex; mode=display">
  K[x]_x = \left\{\frac{f(x)}{g(x)} \middle| x \nmid g(x)\right\} \subset K(x)
  </script>
  is a DVR with maximal ideal <span class="math"></span><script type="math/tex">(x)</script>. Similarly
  <div class="math"></div><script type="math/tex; mode=display">
  \mathbb{Z}_p = \left\{\frac{a}{b} \middle| p\nmid b\right\} \subset \mathbb{Q}
  </script>
  is a DVR with maximal ideal <span class="math"></span><script type="math/tex">(p)</script>, where <span class="math"></span><script type="math/tex">p</script> is a prime number.
</div><div style="margin-top:20px"></div><span id="env4.13"></span><div class="exercise" data-count="4.13">     
Suppose that <span class="math"></span><script type="math/tex">R</script> is a DVR with maximal ideal <span class="math"></span><script type="math/tex">(\pi)</script> and <span class="math"></span><script type="math/tex">R/(\pi) = K</script>.
Assume that <span class="math"></span><script type="math/tex">K \subset R</script>, such that <span class="math"></span><script type="math/tex">R \rightarrow R/(\pi) = K</script> splits.
Prove that an element <span class="math"></span><script type="math/tex">r</script>  in <span class="math"></span><script type="math/tex">R/(\pi^n)</script> has a unique expansion
<div class="math"></div><script type="math/tex; mode=display">
r = \lambda_0 + \lambda_1 \pi + \cdots + \lambda_{n-1} \pi^{n-1},
</script>
where <span class="math"></span><script type="math/tex">\lambda_i\in K</script>.
</div><div style="margin-top:20px"></div>What is the connection to the local geometry of algebraic curves? For simplicity,
let us fix the point <span class="math"></span><script type="math/tex">P = (0, 0)\in K^2</script> consider <span class="math"></span><script type="math/tex">P\in V(F)</script>. Then we may write
<span id="equ4.1"></span><div class="math"></div><script type="math/tex; mode=display">
F = F_m + F_{m+1} + \cdots,
\tag{4.1}</script>
where <span class="math"></span><script type="math/tex">m \geq 1</script> and <span class="math"></span><script type="math/tex">F_j</script> is a form of degree <span class="math"></span><script type="math/tex">j</script>. The lowest degree <span class="math"></span><script type="math/tex">F_m</script>
factors into a product of lines. These lines are called the <em>tangent lines</em>
at <span class="math"></span><script type="math/tex">P</script>.<div style="margin-top:20px"></div>You can experiment a bit with sage below to illustrate this.<div style="margin-top:20px"></div><span id="env4.14"></span><div class="example" data-count="4.14">     
The tangent lines of
<div class="math"></div><script type="math/tex; mode=display">
F = y^2 - x^2(x+1) = y^2 - x^2 - x^3 = (y+x)(y-x) - x^3
</script>
are <span class="math"></span><script type="math/tex">y - x</script> and <span class="math"></span><script type="math/tex">y + x</script>.<div style="margin-top:20px"></div><div class=sage><script type="text/x-sage">
var("x y")
implicit_plot(y^2- x^3 - x^2, (x, -2, 2), (y, -2, 2))
</script></div>
</div><div style="margin-top:20px"></div><span id="env4.15"></span><div class="definition" data-count="4.15">     
The <span class="math"></span><script type="math/tex">m</script> in <a href=#equ4.1>(4.1)</a> is called the <em>multiplicity</em> for <span class="math"></span><script type="math/tex">V(F)</script> at <span class="math"></span><script type="math/tex">P</script>. It
is denoted <span class="math"></span><script type="math/tex">m_P(F)</script>. If <span class="math"></span><script type="math/tex">m_P(F) = 1</script>, we call <span class="math"></span><script type="math/tex">P</script> a <em>simple point</em> on <span class="math"></span><script type="math/tex">V(F)</script>.
</div><div style="margin-top:20px"></div><span id="env4.16"></span><div class="exercise" data-count="4.16">     
How is the definition of mutliplicity generalized to an arbitrary point <span class="math"></span><script type="math/tex">P = (a, b)</script>?
</div><div style="margin-top:20px"></div>Here is the (beautiful) connection to local algebra. Do not forget to look back at
Definition <a href="algcurves.html#env3.18">3.18</a>.<div style="margin-top:20px"></div><span id="env4.17"></span><div class="theorem" data-count="4.17">     
Let <span class="math"></span><script type="math/tex">F\in K[x, y]</script> be an irreducible polynomial. Then <span class="math"></span><script type="math/tex">P\in V(F)</script> is a
simple point if and only if the local ring <span class="math"></span><script type="math/tex">\mathcal{O}_P(F)</script> is a DVR. Any line <span class="math"></span><script type="math/tex">L</script>
through <span class="math"></span><script type="math/tex">P</script>, which is not the tangent line may be used as a
uniformizing parameter <span class="math"></span><script type="math/tex">\pi = [L]\in \mathcal{O}_P(F)</script>.
</div>
<div class="proof">
Let us just assume that <span class="math"></span><script type="math/tex">x</script> is the tangent line at <span class="math"></span><script type="math/tex">P</script> and <span class="math"></span><script type="math/tex">L = y</script>. We know
that <span class="math"></span><script type="math/tex">(x, y)\mathcal{O}_P(F)</script> is the maximal ideal in <span class="math"></span><script type="math/tex">\mathcal{O}_P(F)</script>. In the local ring
at <span class="math"></span><script type="math/tex">P</script> we have
<div class="math"></div><script type="math/tex; mode=display">
F = x u + g y,
</script>
where <span class="math"></span><script type="math/tex">u</script> is a unit. Therefore <span class="math"></span><script type="math/tex">x\in (y)</script>. To prove the converse i.e.,
that <span class="math"></span><script type="math/tex">P</script> is a simple point if <span class="math"></span><script type="math/tex">\mathcal{O}_P(F)</script> is a DVR, we need Theorem <a href="projplanecurves.html#env4.18">4.18</a>.
</div><div style="margin-top:20px"></div><span id="env4.18"></span><div class="theorem" data-count="4.18">     
Let <span class="math"></span><script type="math/tex">F\in K[x, y]</script> be an irreducible polynomial and let <span class="math"></span><script type="math/tex">\mathfrak{m}</script> denote
the maximal ideal in <span class="math"></span><script type="math/tex">\mathcal{O}_P(F)</script>. Then
<div class="math"></div><script type="math/tex; mode=display">
m_P(F) = \dim_K \mathfrak{m}^n/\mathfrak{m}^{n+1}
</script>
for <span class="math"></span><script type="math/tex">n\gg 0</script>.
</div>
<div class="proof">
  Let <span class="math"></span><script type="math/tex">\mathfrak{m}</script> denote the maximal ideal in <span class="math"></span><script type="math/tex">\mathcal{O}_P(F)</script> and <span class="math"></span><script type="math/tex">I= (x, y)\subset K[x, y]</script>. Notice that
  <span class="math"></span><script type="math/tex">\mathfrak{m} = I \mathcal{O}_P(F)</script>.
  Using the <a href="https://en.wikipedia.org/wiki/Exact_sequence" target="_blank">exact sequence</a> (see Fulton, page 28 for more on exact sequences of modules)
  <div class="math"></div><script type="math/tex; mode=display">
  0\rightarrow \mathfrak{m}^n/\mathfrak{m}^{n+1}
  \rightarrow
  \mathcal{O}_P(F)/\mathfrak{m}^{n+1} \rightarrow \mathcal{O}_P(F)/\mathfrak{m}^n\rightarrow 0
  </script>
  of vector spaces, 
  it suffices to show that <span class="math"></span><script type="math/tex">\dim_K \mathcal{O}_P(F)/\mathfrak{m}^n = n\, m_P(F) + s</script> for
  a constant <span class="math"></span><script type="math/tex">s</script> for <span class="math"></span><script type="math/tex">n \gg 0</script>. Assume that <span class="math"></span><script type="math/tex">P = (0, 0)</script>.
  From our
  crucial result in Section <a href="algcurves.html#sec3.4">3.4</a>, we know that
  <div class="math"></div><script type="math/tex; mode=display">
  K[x, y]/(I^n, F) \cong \mathcal{O}_P/(I^n, F)\mathcal{O}_P \cong \mathcal{O}_P(F)/I^n \mathcal{O}_P(F) = \mathcal{O}_P(F)/\mathfrak{m}^n,
  </script>
  where <span class="math"></span><script type="math/tex">\mathcal{O}_P</script> is the local ring of rational functions on <span class="math"></span><script type="math/tex">K^2</script> defined at <span class="math"></span><script type="math/tex">P</script>. For
  <span class="math"></span><script type="math/tex">n \geq m = m_P(F)</script> consider the exact sequence
  <div class="math"></div><script type="math/tex; mode=display">
  0 \rightarrow K[x,y]/I^{n-m} \xrightarrow{F} K[x, y]/I^n \rightarrow K[x, y]/(I^n, F)
  \rightarrow 0,
  </script>
  while quietly recalling that <span class="math"></span><script type="math/tex">\dim_K K[x, y]/I^n = n(n+1)/2</script>.
</div><div style="margin-top:20px"></div><span id="env4.19"></span><div class="exercise" data-count="4.19">     
  Given polynomials <span class="math"></span><script type="math/tex">f, g\in R = K[x, y]</script> and a point <span class="math"></span><script type="math/tex">P\in K^2</script>,
  show that the natural homomorphism
  <div class="math"></div><script type="math/tex; mode=display">
  R_P \rightarrow \left(R/(f)\right)_P\Big/ g \left(R/(f)\right)_P = \Gamma(f)_P\Big/ [g] \Gamma(f)_P = \mathcal{O}_P(f)\Big/ [g] \mathcal{O}_P(f)
  </script>
  is surjective with kernel <span class="math"></span><script type="math/tex">(f, g) R_P</script>.
</div><div style="margin-top:20px"></div>Finally we have the following result.<div style="margin-top:20px"></div><span id="env4.20"></span><div class="lemma" data-count="4.20">     
Let <span class="math"></span><script type="math/tex">P</script> be a simple point on <span class="math"></span><script type="math/tex">V(F)</script>. Suppose that <span class="math"></span><script type="math/tex">G\in K[x, y]</script>. Then
<div class="math"></div><script type="math/tex; mode=display">
I(P, G\cap F) = \nu([G])
</script>
in <span class="math"></span><script type="math/tex">\mathcal{O}_P(F)</script>. Here <span class="math"></span><script type="math/tex">\nu</script> denotes the valuation in the DVR <span class="math"></span><script type="math/tex">\mathcal{O}_P(F)</script>.
</div>
<div class="proof">
Here we make use of the isomorphism (see Exercise <a href=#env4.19 class="labelref">4.19</a>)
<div class="math"></div><script type="math/tex; mode=display">
\mathcal{O}_P/(G, F) \mathcal{O}_P \rightarrow \mathcal{O}_P(F) / G \mathcal{O}_P(F)
</script>
and Exercise <a href=#env4.13 class="labelref">4.13</a>.
</div><div style="margin-top:20px"></div><span id="sec4.7"></span><h2 id="3e3ca3ec-96a3-409f-b460-f0575f9c39c1">4.7 Max Noether's theorem</h2><div style="margin-top:20px"></div><a href="https://en.wikipedia.org/wiki/Max_Noether" target="_blank">Max Noether</a> was the father of
<a href="https://en.wikipedia.org/wiki/Emmy_Noether" target="_blank">Emmy Noether</a>. He worked
extensively on algebraic geometry and we shall present one of his results.
First some notation.<div style="margin-top:20px"></div><span id="env4.21"></span><div class="definition" data-count="4.21">     
  Let <span class="math"></span><script type="math/tex">F</script> and <span class="math"></span><script type="math/tex">G</script> denote two projective algebraic curves with no common components and
  <span class="math"></span><script type="math/tex">P\in \mathbb{P}^2</script>. Then we define
  <div class="math"></div><script type="math/tex; mode=display">
  I(P, F\cap G) = \dim_K \mathcal{O}_P/(F, G)\mathcal{O}_P
  </script>
  and the <em>intersection cycle</em>
  <div class="math"></div><script type="math/tex; mode=display">
  F\cdot G = \sum_{P\in V(F, G)} I(P, F\cap G) P.
  </script>
</div><div style="margin-top:20px"></div>Suppose that <span class="math"></span><script type="math/tex">H\cdot F \geq G\cdot F</script> (it is almost clear what this means, right?). Noether's theorem addresses the
existence of a projective algebraic curve <span class="math"></span><script type="math/tex">B</script>, such that
<div class="emphasize"><span id="equ4.2"></span><div class="math"></div><script type="math/tex; mode=display">
B\cdot F = H\cdot F - G\cdot F.
\tag{4.2}</script></div>
Such a <span class="math"></span><script type="math/tex">B</script> may be found provided that <span class="math"></span><script type="math/tex">H = A F + B G</script> i.e., <span class="math"></span><script type="math/tex">H\in (F, G)</script>, since then
<span id="equ4.3"></span><div class="math"></div><script type="math/tex; mode=display">
(A F + B G)\cdot F = BG \cdot F = B\cdot F + G \cdot F.
\tag{4.3}</script>
<span id="env4.22"></span><div class="remark" data-count="4.22">     
We have used in <a href=#equ4.3>(4.3)</a> that we have an exact sequence 
<div class="math"></div><script type="math/tex; mode=display">
0 \rightarrow \mathcal{O}_P/(B, F) \xrightarrow{\cdot G} \mathcal{O}_P/(G B, F) \rightarrow \mathcal{O}_P/(G, F) \rightarrow 0
</script>
of vector spaces over <span class="math"></span><script type="math/tex">K</script>: <span class="math"></span><script type="math/tex">I(P, (G B) \cap F) = I(P, G\cap F) + I(P, B\cap F)</script>.
</div><div style="margin-top:20px"></div>When is <span class="math"></span><script type="math/tex">H = A F + G B</script> satisfied? The following (local to global) result due to Noether clarifies this.<div style="margin-top:20px"></div><span id="env4.23"></span><div class="theorem" data-count="4.23">     
  <span class="math"></span><script type="math/tex">H\in (F, G) \iff H \in (F, G)\mathcal{O}_P</script> for every
  <span class="math"></span><script type="math/tex">P\in V(F, G)</script>.
</div>
<div class="proof">
  We will only prove the local to global direction. We may assume that <span class="math"></span><script type="math/tex">V(F, G, z) = \emptyset</script>.
  From the affine case (section <a href="algcurves.html#sec3.4">3.4</a>), we conclude that <span class="math"></span><script type="math/tex">H_* = a F_* + b G_*</script> and therefore that
  <span class="math"></span><script type="math/tex">Z^m H = A F + B G</script> for some <span class="math"></span><script type="math/tex">m\gg 0</script>. But since the multiplication map
  <span id="equ4.4"></span><div class="math"></div><script type="math/tex; mode=display">
  K[x, y, z]/(F, G) \xrightarrow{Z} k[x, y, z]/(F, G)
  \tag{4.4}</script>
  is injective, we get <span class="math"></span><script type="math/tex">H\in (F, G)</script>. Well, let us see why multiplication
  by <span class="math"></span><script type="math/tex">Z</script> is injective in <a href=#equ4.4>(4.4)</a>. It is actually a nice proof:
  for a general homogeneous polynomial <span class="math"></span><script type="math/tex">J\in k[x, y, z]</script>, we let <span class="math"></span><script type="math/tex">J_0 = J(x, y, 0)\in
  k[x, y]</script>. Suppose that <span class="math"></span><script type="math/tex">z H = A F + B G</script>. Then <span class="math"></span><script type="math/tex">A_0 F_0 + B_0 G_0 = 0</script>.
  Since <span class="math"></span><script type="math/tex">V(F, G, z) = \emptyset</script>, <span class="math"></span><script type="math/tex">A_0 = \lambda G_0</script> and <span class="math"></span><script type="math/tex">B_0 = \mu F_0</script> and
  <div class="math"></div><script type="math/tex; mode=display">
  z H = (A - \lambda G) F + (B + \lambda F) G
  </script>
  and we see that <span class="math"></span><script type="math/tex">z\mid A-\lambda G</script> and <span class="math"></span><script type="math/tex">z\mid B + \lambda F</script>, since
  <span class="math"></span><script type="math/tex">(A - \lambda G)_0 = 0</script> and <span class="math"></span><script type="math/tex">(B + \lambda G)_0 = (B - \mu G)_0 = 0</script>.
</div><div style="margin-top:20px"></div><span id="env4.24"></span><div class="lemma" data-count="4.24">     
  When <span class="math"></span><script type="math/tex">P</script> is a simple point on <span class="math"></span><script type="math/tex">F</script> and <span class="math"></span><script type="math/tex">I(P, H\cap F) \geq I(P, G\cap F)</script>, then
  <span class="math"></span><script type="math/tex">H_*\in (F, G)\mathcal{O}_P</script>.
</div>
<div class="proof">
  We have <span class="math"></span><script type="math/tex">\nu(H) \geq \nu(G)</script> in <span class="math"></span><script type="math/tex">\mathcal{O}_P(F)</script> by Lemma <a href=#env4.20 class="labelref">4.20</a>. Therefore
  <span class="math"></span><script type="math/tex">H_*\in (G_*)\subset \mathcal{O}_P(F)</script>. As <span class="math"></span><script type="math/tex">\mathcal{O}_P(F_*)/(G_*) \cong \mathcal{O}_P/(F_*, G_*)</script> by
  Exercise <a href=#env4.19 class="labelref">4.19</a>, 
  we get that <span class="math"></span><script type="math/tex">H_*\in (F_*, G_*)</script> at <span class="math"></span><script type="math/tex">P</script>.
</div><div style="margin-top:20px"></div><span id="sec4.8"></span><h2 id="f559fc2a-4481-440d-8658-8bb59132cea8">4.8 Elliptic curves</h2><div style="margin-top:20px"></div>Elliptic curves are simply plane projective curves of degree three with only
simple points i.e., non-singular cubics. They are among the most surprising
and beautiful objects in all of modern mathematics. This is mainly due to
the fact that they carry an abelian group structure.<div style="margin-top:20px"></div><span id="env4.25"></span><div class="proposition" data-count="4.25">     
  Let <span class="math"></span><script type="math/tex">C</script> be an irreducible cubic and <span class="math"></span><script type="math/tex">C', C''</script> cubics. Suppose that
  <span id="equ4.5"></span><div class="math"></div><script type="math/tex; mode=display">
  C'\cdot C = P_1 + \cdots + P_8 + P_9,
  \tag{4.5}</script>
  where <span class="math"></span><script type="math/tex">P_1, \dots, P_9</script> are simple points on <span class="math"></span><script type="math/tex">C</script>, and suppose that
  <span class="math"></span><script type="math/tex">C''\cdot C = P_1 + \cdots + P_8 + Q</script>. Then <span class="math"></span><script type="math/tex">Q = P_9</script>.
</div>
<div class="proof">
Suppose that <span class="math"></span><script type="math/tex">Q\neq P_9</script>. Let <span class="math"></span><script type="math/tex">L</script> be a line through <span class="math"></span><script type="math/tex">P_9</script> not
passing through <span class="math"></span><script type="math/tex">Q</script> with
<div class="math"></div><script type="math/tex; mode=display">
L\cdot C = P_9 + R + S.
</script>
Then
<span id="equ4.6"></span><div class="math"></div><script type="math/tex; mode=display">
(L C'')\cdot C = C'\cdot C + Q + R + S.
\tag{4.6}</script>
Comparing <a href=#equ4.5>(4.5)</a> with <a href=#equ4.6>(4.6)</a> we may, using Lemma <a href=#env4.24 class="labelref">4.24</a>,
find a line <span class="math"></span><script type="math/tex">L'</script>, such that
<div class="math"></div><script type="math/tex; mode=display">
L'\cdot C = Q + R + S.
</script>
But we must have <span class="math"></span><script type="math/tex">L = L'</script>.
</div><div style="margin-top:20px"></div><span id="sec4.8.1"></span><h3>4.8.1 Addition on an elliptic curve</h3><div style="margin-top:20px"></div>Let <span class="math"></span><script type="math/tex">C</script> be a smooth elliptic curve i.e., <span class="math"></span><script type="math/tex">C = V(F)</script>, where
<span class="math"></span><script type="math/tex">F</script> is homogeneous of degree three with only simple points. Fpr
two points <span class="math"></span><script type="math/tex">P, Q\in C</script> we define <span class="math"></span><script type="math/tex">\varphi(P, Q) = R</script>, where
<div class="math"></div><script type="math/tex; mode=display">
L \cdot C = P + Q + R.
</script>
Of course this gives a commutative operation, but we need a
neutral element <span class="math"></span><script type="math/tex">\mathcal{O}\in C</script>. Now we define
<div class="math"></div><script type="math/tex; mode=display">
P\oplus Q = \varphi(\mathcal{O}, \varphi(P, Q)).
</script><div style="margin-top:20px"></div><div class="centerimg"><img src="img/ellcurvadd.png" ></div><div style="margin-top:20px"></div><span id="env4.26"></span><div class="theorem" data-count="4.26">     
The operation <span class="math"></span><script type="math/tex">\oplus</script> makes <span class="math"></span><script type="math/tex">C</script> into an abelian group.
</div>
<div class="proof">
We only need to check that <span class="math"></span><script type="math/tex">\oplus</script> is associative i.e.,
<div class="math"></div><script type="math/tex; mode=display">
\varphi(\varphi(\mathcal{O}, \varphi(P, Q)), R) =
\varphi(\varphi(\mathcal{O}, \varphi(R, Q)), P).
</script>
We list the intersection cycles and end up with a good idea.
Here goes <span class="math"></span><script type="math/tex">(P\oplus Q) \oplus R</script>:
<div class="math"></div><script type="math/tex; mode=display">\begin{aligned}
C\cdot PQ &= P + Q + P'\\
C\cdot \mathcal{O} P' &= \mathcal{O} + P' + S\\
C\cdot RS &= R + S + R'
\end{aligned}</script><div style="margin-top:20px"></div>Here is <span class="math"></span><script type="math/tex">P\oplus (Q \oplus R)</script>:
<div class="math"></div><script type="math/tex; mode=display">\begin{aligned}
C\cdot QR &= Q + R + Q'\\
C\cdot \mathcal{O} Q' &= \mathcal{O} + Q' + T\\
C\cdot PT &= P + T + T'
\end{aligned}</script><div style="margin-top:20px"></div>The endgame is to prove <span class="math"></span><script type="math/tex">R' = T'</script>.
The magnificent trick appears now in using Proposition <a href=#env4.25 class="labelref">4.25</a>
for
<div class="math"></div><script type="math/tex; mode=display">\begin{aligned}
C' &= PQ \cdot RS \cdot \mathcal{O} Q'\\
C'' &= \mathcal{O} P' \cdot QR \cdot PT
\end{aligned}</script><div style="margin-top:20px"></div></div><div style="margin-top:20px"></div><span id="sec4.8.2"></span><h3>4.8.2 Explicit formulas</h3><div style="margin-top:20px"></div>Suppose that we have an elliptic curve <span class="math"></span><script type="math/tex">C = V(F)</script> given by
<div class="math"></div><script type="math/tex; mode=display">
y^2 = x^3 + a x^2 + b x + c
</script>
with <span class="math"></span><script type="math/tex">\mathcal{O} = (0, 1, 0)</script>. If <span class="math"></span><script type="math/tex">P_1 = (x_1, y_1)</script> and <span class="math"></span><script type="math/tex">P_2 = (x_2, y_2)</script>, how
do we actually compute <span class="math"></span><script type="math/tex">P_3 = (x_3, y_3) = P_1\oplus P_2</script>?<div style="margin-top:20px"></div>First, we notice that <span class="math"></span><script type="math/tex">\mathcal{O}, (x_0, y_0, 1), (x_0, -y_0, 1)\in C</script> all lie on the
line <span class="math"></span><script type="math/tex">V(x - x_0 z)</script>, so that <span class="math"></span><script type="math/tex">- P = (x_0, -y_0, 1)</script> if <span class="math"></span><script type="math/tex">P = (x_0, y_0, 1)\in C</script>.<div style="margin-top:20px"></div>If <span class="math"></span><script type="math/tex">x_1\neq x_2</script> in <span class="math"></span><script type="math/tex">P_1</script> and <span class="math"></span><script type="math/tex">P_2</script> above, we consider the line <span class="math"></span><script type="math/tex">y = \alpha x + \beta</script>
through <span class="math"></span><script type="math/tex">P_1</script> and <span class="math"></span><script type="math/tex">P_2</script>. To find <span class="math"></span><script type="math/tex">x_3</script>, we simply use the identity
<span id="equ4.7"></span><div class="math"></div><script type="math/tex; mode=display">
x^3 + a x^2 + b x + c - (\alpha x + \beta)^2 = (x - x_1) (x - x_2) (x - x_3).
\tag{4.7}</script>
Comparing coefficients, this gives
<div class="math"></div><script type="math/tex; mode=display">
a - \alpha^2 = - (x_1 + x_2 + x_3)
</script>
and therefore
<span id="equ4.8"></span><div class="math"></div><script type="math/tex; mode=display">
x_3 = \alpha^2 - a - x_1 - x_2.
\tag{4.8}</script>
Of course here you already know that  <span class="math"></span><script type="math/tex">\alpha = (y_2 - y_1)/(x_1 - x_2)</script>.<div style="margin-top:20px"></div>What if <span class="math"></span><script type="math/tex">x_1 = x_2</script>? Well, if <span class="math"></span><script type="math/tex">P = P_1 = P_2</script>, then we need to compute the
tangent line at <span class="math"></span><script type="math/tex">P = (x_1, y_1)</script>, which is
<div class="math"></div><script type="math/tex; mode=display">
\frac{\partial F}{\partial x}(x_1, y_1) (x - x_1) + \frac{\partial F}{\partial y}(x_1, y_1)(y-y_1) =
(3 x_1^2 + 2 a x_1 + b)(x-x_1) + 2 y_1(y - y_1)
</script>
Here our line is given by <span class="math"></span><script type="math/tex">\alpha = -(3 x_1^2 + 2 a x_1 + b)/(2 y_1)</script> in
<a href=#equ4.7>(4.7)</a> and we have a formula for the <span class="math"></span><script type="math/tex">x</script>-coordinate in <span class="math"></span><script type="math/tex">2 P_1</script> using
<a href=#equ4.8>(4.8)</a>.<div style="margin-top:20px"></div>Computing the <span class="math"></span><script type="math/tex">y</script>-coordinate in both sums can be done by first finding
the intersection of the relevant line with the <span class="math"></span><script type="math/tex">y</script>-axis:
<div class="math"></div><script type="math/tex; mode=display">
\beta = y_1 - \alpha x_1.
</script>
Then <span class="math"></span><script type="math/tex">y_3 = \alpha x_3 + \beta</script> Woooops! This is wrong. In fact the right formula is
<div class="math"></div><script type="math/tex; mode=display">
y_3 = - \alpha x_3 - \beta.
</script>
Why?<div style="margin-top:20px"></div>Below is a quickly written (far from complete) python implementation (over <span class="math"></span><script type="math/tex">\mathbb{Q}</script>) of addition of points on
an elliptic curve. Viewer discretion is advised.<div style="margin-top:20px"></div><div class=sagepython><script type="text/x-sage">
from fractions import Fraction

class E:
    #
    # y^2 = x^3 + a*x^2 + b*x + c
    #
    def __init__(self, a, b, c): # integral coefficients!
        self.a = Fraction(a)
        self.b = Fraction(b)
        self.c = Fraction(c)

class Point:
    def __init__(self, curve, x1, y1):
        self.E = curve
        self.x1 = x1
        self.y1 = y1

    def __repr__(self):
        return "(" + str(self.x1) + "," + str(self.y1) + ")"

    def __add__(self, rhs):
        x1 = self.x1
        y1 = self.y1
        x2 = rhs.x1
        y2 = rhs.y1

        if (x1 != x2):
            alpha = (y2 - y1)/(x2 - x1)
        else:
            alpha = (3*x1*x1 + 2*self.E.a*x1 + self.E.b)/(2*y1)
        beta = y1 - alpha*x1
        x3 = alpha*alpha - self.E.a - x1 - x2
        y3 = -alpha*x3 - beta
        return Point(self.E, x3, y3)
</script></div><div style="margin-top:20px"></div>After evaluating the window above, you can experiment in the window below.<div style="margin-top:20px"></div><div class=sagepython><script type="text/x-sage">
#ell1 = E(0, 4, 0) # y^2 = x^3 + 4x
#P = Point(ell1, 2, 4)

ell2 = E(0, 1, -9) # y^2 = x^3 + x - 9
P = Point(ell2, 2, 1)
print(P + P)

#ell3 = E(0, -43, 166)
#P = Point(ell3, 3, 8)
</script></div><div style="margin-top:20px"></div><span id="sec4.9"></span><h2 id="27783018-2384-47e2-a61d-c5331b9312b3">4.9 Fun and surprising facts</h2><div style="margin-top:20px"></div>The following result is deep and non-trivial.<div style="margin-top:20px"></div><span id="env4.27"></span><div class="theorem" data-count="4.27">     
  Let <span class="math"></span><script type="math/tex">E</script> be an elliptic curve defined by a polynomial with
  coefficients in <span class="math"></span><script type="math/tex">\mathbb{Q}</script>. Then <span class="math"></span><script type="math/tex">E(\mathbb{Q})</script> is a finitely generated
  abelian group.
</div><div style="margin-top:20px"></div>A finitely generated abelian group <span class="math"></span><script type="math/tex">A</script> is isomorphic to a <span class="math"></span><script type="math/tex">A_{\operatorname{free}} \oplus A_{\operatorname{tors}}</script>,
where <span class="math"></span><script type="math/tex">A_{\operatorname{free}}</script> is finitely generated free and <span class="math"></span><script type="math/tex">A_{\operatorname{tors}}</script>
is finite. The rank of <span class="math"></span><script type="math/tex">E(\mathbb{Q})</script> is the dimension of <span class="math"></span><script type="math/tex">E(\mathbb{Q})_{\operatorname{free}}</script>.<div style="margin-top:20px"></div>For an elliptic curve <span class="math"></span><script type="math/tex">E</script> as above, there are only
finitely many possibilities for the torsion
subgroup of <span class="math"></span><script type="math/tex">E(\mathbb{Q})</script>. See <a href="https://en.wikipedia.org/wiki/Torsion_conjecture#Elliptic_curves" target="_blank">Mazur's theorem</a>. For some reason <span class="math"></span><script type="math/tex">E(\mathbb{Q})</script> has no points of order <span class="math"></span><script type="math/tex">11</script> and no points
of order <span class="math"></span><script type="math/tex">>12</script>.<div style="margin-top:20px"></div>It is not known if the rank of <span class="math"></span><script type="math/tex">E(\mathbb{Q})</script> is bounded! A monstrous example is the
elliptic curve
<div class="math"></div><script type="math/tex; mode=display">\begin{aligned}
  &y^2 + x y + y = x^3 - x^2 -\\
  &244537673336319601463803487168961769270757573821859853707x + \\
  &961710182053183034546222979258806817743270682028964434238957830989898438151121499931
\end{aligned}</script>
with rank <span class="math"></span><script type="math/tex">20</script>.<div style="margin-top:20px"></div></div></body>
